---
title: Web Exploitation
layout: AdvSec
---
<!--Learning Outcomes for this topic-->
<h3>Web Exploitations</h3>
<p>Learning outcomes:
    <ul>
        <li>Define web site weaknesses including the top 10 website security risks</li>
        <li>Describe possible exploits for input fields</li>
        <li>Explain the use and effect of buffer overflows</li>
        <li>Explain how set-up and configuration of the web server provides vulnerabilities</li>
        <li>List potential issues with web site structure and what industry best practices are for each issue</li>
        <li>Describe XSS, demonstrate it's use and list potential detection and prevention measure</li>
        <li>Show how scripting can cause web exploitation</li>
    </ul>
</p>

<!--embed Youtube video here-->
<div class="video-wrapper">
    <!--Paste youTube embed code here-->
</div>

<!--Download PowerPoint-->
<p>
    <a href="/AdvInfoSec/CIS215 Week 6 - Web Exploitation.pptx">Would you like to download my PowerPoint to follow along?</a>
</p>
<!--Outline Of lecture notes/powerpoint for the topic-->
<p>
    <ul>
        <li>What is Website Exploitation</li>
            <ul>
                <li>When you find a vulnerability in a website to take advantage of to make the website do something it shouldn't</li>
                <li>Most vulnerabilities are found by automated means and tools, not doing things by hand</li>
                <li>However! There are some trials you can do looking at things like URL manipulation that you can play with by hand easily</li>
            </ul>
        <li>Basics of Website Hacking</li> 
            <ul>
                <li>Look at the code for the website (HTML/CSS/Javascript/PHP code)</li>
                <li>File structure</li>
                    <ul>
                        <li>Can you see files you shouldn't?</li> 
                        <li>Layout of the server?</li> 
                        <li>Upload files?</li> 
                        <li>Permissions to access things you shouldn't have?</li>
                    </ul>
                <li>URL attacks</li>
                    <ul>
                        <li>Look at the URL, can you see any extensions? Files?</li> 
                        <li>What if you change the URL can you get somewhere you shouldn't be?</li>
                    </ul>
                <li>HTTP Flood Attack</li>
                    <ul>
                        <li>GET/POST attacks by hand</li>
                            <ul>
                                <li>GET http://bank.com/transfer.do?acct=BOB&amount=100 HTTP/1.1</li>
                                <li>What if you change the attempt parameter? such as Putting ALICE instead of BOB</li>
                                <li>More detailed example can be found at the bottom of <a href="https://owasp.org/www-community/attacks/csrf">This page</a></li>
                            </ul>
                    </ul>
            </ul>
        <li>Input Field Exploits</li> 
            <ul>
                <li>Buffer overflow</li>
                <li>Special characters</li>
                <li>Poor access right configuration</li>
                <li>Error messages that say too much</li>
                <li>URL exploitation</li>
                <li>Are there hidden unlinked to common pages or files?</li>
                <li>If they use things like user=14 search=75 can we play with those numbers to run our own queries?</li>
            </ul>
        <li>OWASP top 10 as of 2022 <a href="https://owasp.org/www-project-top-ten/">Please see here for most up to date list</a></li> 
            <ul>
                <li>Broken Access Control </li>
                <li>Cryptographic Failures</li>
                <li>Injection</li>
                <li>Insecure Design </li>
                <li>Security Misconfiguration</li>
                <li>Vulnerable and Outdated Components</li>
                <li>Identification and Authentication Failures</li>
                <li>Software and Data Integrity Failures</li>
                <li>Security Logging and Monitoring Failures</li>
                <li>Server-Side Request Forgery</li>
            </ul>
        <li>Examples of how some of those can be exploited</li> 
            <ul>
                <li>Injection</li>
                    <ul>
                        <li>Injecting information into websites</li>
                        <li>Cross Site Scripting (XSS)</li>
                        <li>Some examples of common issues are SQL injections, and not sanitizing user input data</li>
                        <li>Example Scenario: Change a SQL query to have '1'='1 as the ID giving root permissions to the attacker</li>
                    </ul>
                <li>Cryptographic failures</li>
                    <ul>
                        <li>Formally known as Sensitive Data Exposure</li>
                        <li>Examples of issues include transmitting data in clear text, using outdated algorithms, not enforing encryption, and storing too much sensitive data</li>
                        <li>Example Scenario: Database of credit cards are stored plain text in an AWS bucket</li>
                    </ul>
                <li>Security Misconfiguration</li>
                    <ul>
                        <li>Some examples include using default username/passwords, not upgrading to latest security features or patches, unneeded features and overly informative error messages</li>
                        <li>Example Scenario: AWS bucket from previous example was set to default permissions, but the cloud provider has default as sharing and open to the internet at large.</li>
                    </ul>
                <li>Vulnerable and outdated components</li>
                    <ul>
                        <li>Some examples of issues include not knowing the versions you're running, or not updating to the latest version, not upgrading or updating your underlying structure, and not regularly scanning and monitoring your system and the news for the latest exploits</li>
                        <li>Example Scenario: You have decided to run your server on an older version of the OS because that's what you were familiar with, but it's no longer being patched, and is getting no updates.  Because it's 10yrs old you aren't protected from any of the newer rootkits or even bugs like heartbleed.</li>
                    </ul>
                <li>Security Monitoring and logging failures</li>
                    <ul>
                        <li>Some examples of issues include not keeping track of failed logins, warning or errors. Not keeping track of API access. Not backing up your logs.</li>
                        <li>Example Scenario: Literally most data breaches, including the large Experian one. </li>
                    </ul>

            </ul>
        <li>Injection Style Attacks in Depth</li>
            <ul>
                <li>Code injection - inserts application code into application</li>
                <li>Email header injection - IMAP/SMTP commands to mail server</li>
                <li>Host Header Injection - Abuse on implicit trust of HTTP host header</li>
                <li>LDAP injection - Adds LDAP statements to execute LDAP commands</li>
                <li>OS command injection - puts OS commands into the web</li>
                <li>XPath injection - user supplied info to construct and Xpath query for XML data</li>
                <li>SQL Injections</li>
                    <ul>
                        <li>2 stages</li>
                            <ul>
                                <li>Stage 1 is trials and see what you get from the application</li>
                                <li>Stage 2 is specially crafted input to take advantage of what you found in stage 1</li>
                            </ul>
                        <li>Classifications</li>    
                            <ul>
                                <li>Classic- you can see errors you shouldn't and can guess at what to do from there <a href="https://www.youtube.com/watch?v=PB7hWlqTSqs">Such as this one by 7Safe</a> or attacks on UNION</li>
                                <li>Blind - can't see error messages or responses</li>
                                <li>Database specific - you know the type of database they are running and take advantage of that (mySQL vs mongoDB vs Oracle)</li>
                                <li>Compound or out-of-band These are uncommon, needs very specific features enabled</li>
                            </ul>
                        <li>Some Examples of SQL injection tools both Open Source and in Kali/li>
                            <ul>
                                <li>SQLMap and NoSQLMap</li>
                                <li>JSQL Injection</li>
                                <li>WhiteWindow</li>
                                <li>BBQSQL</li>
                                <li>SQLninja</li>
                                <li>BSQL hacker</li>
                            </ul>    
                    </ul>
                <li>Cross Site Scripting (XSS)</li>
                    <ul>
                        <li>Malicious scripts injected into trusted webpages</li>
                        <li>Attacker uses a web app to send the malicious code</li>
                        <li>Flaws that make this possible is anywhere you allow user input without validation, sanitization or encoding.</li>
                        <li>Can be done through web requests or when data is in dynamic content sent to a webpage</li>
                        <li>Frequently seen with malicious ads on websites, but malicious code can be JavaScript, HTML, Flash or any other executable code</li>
                        <li>Can be stored or persistent code saved on a target server</li>
                        <li>Can be reflected off another server or delivered in an email</li>
                        <li>XSS vulnerabilities are hard to find because you need to securely review all the code  and look for where input from an HTTP request could make its way to HTML output</li>
                        <li>Many HTML tags can transmit bad Javascript</li>
                        <li>Nessus (Not free) and Nikto (free) can scan for surface vulnerabilities</li>
                    </ul>
            </ul>    
        <li>Website Frameworks</li> 
        <ul>
            <li>Wordpress</li>
            <li>3rd party templates (Wix, squarespace...)</li>
            <li>Plugins</li>
            <li>If you aren't a full time web developer think about taking advantage of the tools available.  Everything has vulnerabilities.  Languages, frameworks, everything.  It's more important to do security basics on a website then it is to DIY everything.  And it's important to test your websites and see what a hacker would see.</li>
        </ul>
    </ul>
</p>   
<!--Discussions and activities for the topic-->
<p>Suggested Activities and Discussion Topics:
    <ul>
        <li>Try a basic mission on "Hack this site!" <a href="https://www.hackthissite.org/register"> Register Here for Free</a></li> 
            <ul>
                <li>Basic Missions require very basic HTML knowledge.  If you don't know HTML, try looking through the code, play with the URL, think basic, don't over work this.</li>
            </ul>
        <li>Try out a basic SQL injection in a safe space <a href="https://www.guru99.com/learn-sql-injection-with-practical-example.html">This is a site that was built specially for education on SQL injection</a>
            <ul>
                <li>It is OK to try this on the specific site listed above</li>
                <li>It is <b>NOT OK to try this anywhere else</b> without written permission from your teacher/Instructor</li>
            </ul>
            <li><a href="https://xss-game.appspot.com/">Go to This site </a>and try out a XSS attack</li>
                <ul>
                    <li>This is part of a Bug Bounty Program training.  More info can be found <a href="https://bughunters.google.com/about/rules/6625378258649088/google-and-alphabet-vulnerability-reward-program-vrp-rules#rewards"> Here</a></li>
                </ul>
    </ul>
</p>

<!--Link to my classes page-->
<p>Would you like to see some more classes?  
    <a href="/classes.html">Click here </a>
</p>