<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/images/WomanComputerSilouette.png">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q9SWNFD6DB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q9SWNFD6DB');
</script>

    <title>Docker to YAML</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/carousel/">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/carousel.css" rel="stylesheet">
    <link href="/css/stylesheet.css" rel="stylesheet">
    <link href="/fontawesome-free-6.1.1-web/css/all.css" rel="stylesheet">
  </head>

  <body>

    <header>



      <!-- Why are you looking at my website code?  You might need a hobby.  
      
      Come take a class with me! I promise to keep you busy
    -->



<!--Nav bar area at the top of the page -->
    
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: #2c365e;">
  <a class="navbar-brand" href="/index.html">Welcome!</a>
 <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
   <span class="navbar-toggler-icon"></span>
 </button>
       
<div class="collapse navbar-collapse" id="navbarSupportedContent">
         <ul class="navbar-nav mr-auto">
<!--Social Media Menu section of NavBar-->
      <li class="nav-item dropdown">
       <a class="nav-link dropdown-toggle" href="/socials.html" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
         Socials
       </a>
       <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
         <a class="dropdown-item" href="https://www.youtube.com/channel/UCebdI1gT84U7PBtJFUTrIQA">YouTube</a>
         <a class="dropdown-item" href="https://github.com/aholdengouveia">GitHub </a>
         <a class="dropdown-item" href="https://www.thingiverse.com/aholdengouveia/designs">Thingiverse</a>
         <!--<a class="dropdown-item" href="https://twitter.com/aholdengouveia">Twitter</a>-->
         <a class="dropdown-item" rel="me" href="https://fosstodon.org/@aholdengouveia">Mastodon</a>
         <a class="dropdown-item" href="https://www.linkedin.com/in/aholdengouveia">LinkedIn</a>
         <a class="dropdown-item" href="https://g.dev/aholdengouveia">Google Developer</a>
         <a class="dropdown-item" href="https://oercommons.org/profile/429418">OER Commons Profile</a>         
        </div>
     </li>

<!--Classes menu section of NavBar-->
     <li class="nav-item dropdown">
       <a class="nav-link dropdown-toggle" href="/classes.html" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
         Classes
       </a>
       <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
         <a class="dropdown-item" href="/introlinux.html">Introduction to Linux</a>
         <a class="dropdown-item" href="/introdata.html">Introduction to Data</a>
         <a class="dropdown-item" href="/introinfosec.html">Introduction to Security</a>
         <!-- <a class="dropdown-item" href="/introit.html">Introduction to IT</a>
         <a class="dropdown-item" href="/intropython.html">Introduction to Python</a>
         -->
         <a class="dropdown-item" href="/AdvSec.html">Advanced Security</a>
         <a class="dropdown-item" href="/advdata.html">Advanced Database Management</a>
         <a class="dropdown-item" href="/advlinux.html">Linux Administration</a>
        </div>
     </li>

     <!--Technical Jobs Section of NavBar-->
<li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Tech Jobs
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" href="/techjobs.html">How to Get a job</a>
        <!--<a class="dropdown-item" href="#">Tips to succeed at your job</a>
        <a class="dropdown-item" href="#">Documentation</a>
        -->
      </div>
    </li>
<!--Other things I think are Important to learn-->
   <!-- <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Other tech stuff
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" href="#">Shellscripting</a>
        <a class="dropdown-item" href="#">Linux Power Tools</a>
        <a class="dropdown-item" href="#">Google-Fu</a>
      </div>
    </li> -->

<!--Home Automation Section of NavBar-->
  <li class="nav-item active">
    <a class="nav-link" href="/SmartHome/smarthomewelcome.html">Smart Home Project <span class="sr-only">(current)</span></a>
  </li>


<!--About Me Section of NavBar-->
    <li class="nav-item active">
      <a class="nav-link" href="/cv.html">About Me <span class="sr-only">(current)</span></a>
    </li>
<!--Search Bar Section of NavBar-->
         </ul>
         <form class="form-inline mt-2 mt-md-0">
           <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
           <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
         </form>
       </div>
     </nav>
   </header>


    <main role="main">
    <!--Jumbotron for the page header -->
    <div class="jumbotron" style="background: url(/SmartHome/smarthomeimages/translationdockertoyaml.png) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;">
        <div class="container image-overlay">
          <h1 class="jumbotron-heading">Docker to YAML</h1>
            <p class="lead">This tutorial is on how to take a Docker command and turn it into a YAML file</p>
            </p>
        </div>
    </div>  

    <br><br>
<!--Intro to the project-->    
<div class="container">
    <p>There are a ton of great open source projects out there, and what I've chosen to do direct tutorials on may be all you want, but, what if you want more?  You want other things that I haven't covered? And you really enjoy using Kubernetes to manage your containers. Good news!  This tutorial is going to talk about how to translate Docker commands to YAML files that Kubernetes can read.  If you want to use Docker, that's awesome and you can keep doing that.  Personally I find Kubernetes to be a bit easier to manage, and while troubleshooting can be more complicated it's a more fault free system for me.  Kubernetes needs YAML files to know how to build the containers, if we don't give Mechi instructions they can't build things for us.  I have included lots of example YAML files in my other tutorials, but this one will be about how to create your own YAML files for other services that I may not have covered yet.  I'll be using two examples, a comic book server and a photo server.  
    </p>
</div>  

<!--Rating of the project in terms of difficulty, cost, and if I recommend for beginner-->
<div class="container"> 
    <h3>Rating</h3>
        <ul style="list-style: none;">
            <li>Difficulty of Project: Advanced <span class="fa-solid fa-splotch"><span class="fa-solid fa-splotch"><span class="fa-solid fa-splotch"><span class="fa-solid fa-splotch"><span class="fa-solid fa-splotch"></span>
            </li>
            <li>Cost: Free</li>
            <li>Recommendation skill level: Advanced<span class="fa-solid fa-hat-wizard"></span><span class="fa-solid fa-hat-wizard"></span><span class="fa-solid fa-hat-wizard"></span><span class="fa-solid fa-hat-wizard"></span><span class="fa-solid fa-hat-wizard"></span><span class="fa-solid fa-hat-wizard"></span> </li>
            <li>Time commitment: Half a day or more <span class="fa-solid fa-clock"></span><span class="fa-solid fa-clock"></span><span class="fa-solid fa-clock"></span><span class="fa-solid fa-clock"></span><span class="fa-solid fa-clock"></span></li>
        </ul>
        <p>
            The time will be very dependent on troubleshooting needed and familiarity with programming languages. The first couple times I tried this it took a couple days of playing with it, taking breaks and coming back to it.  By the third or fourth attempt at translating Docker to YAML it took about an hour.  NOTE: There are some things that make this more complicated, including Persistant Volumes, I'll cover those a bit, but it's a tough topic and can be confusing.
        </p>
</div>

<!--Skills needed for This project make sure to include links on how to get those skills-->
<div class="container">
    <h3>Skills and assumed supplies</h3>
        <ul style="list-style-type:disc;">
            <li><a href="/SmartHome/ServerSetup.html">A Server</a></li>
            <li><a href="/SmartHome/Virtualizationsetup.html#Kubernetes">Kubernetes Installed on your server</a></li>
            <li><a href="/SmartHome/Virtualizationsetup.html#Kubectl">Kubectl</a></li>
            <li>Comfortable on the command prompt, we'll need it a lot.</li>
            <li>Comfortable using paths on Linux</li>
        </ul>  
</div>


<!--What is YAML and why it's cool-->
<div class="container">
    <h3>What is YAML</h3>
    <p>
        The <a href="https://yaml.org/">Official YAML website</a> says that YAML Ain't Markup Language.  Which, while true, is not likely to help you much right now.  YAML is a way to be able to write information so that it's easier for a person to understand, but also the computer is able to understand what you want.  It's really commonly used in configuration files, it's used to setup Kubernetes Containers.
    </p>
    <h3>Why YAML is good to learn</h3>
    <p>
    </p>
    <h3>How to create a YAML file</h3>
    <p>
        YAML will pay attention to white space, so it's important to look at the format of the file carefully.  Ideally you should use spacing, make sure to use space, not tabs to create your whitespace in your YAML files. 
    </p>
    <p>
        YAML will not pay attention to lines that start with #, because that indicates it's a comment, and therefore should be ignored by the computer.  Comments are a good way to leave notes to yourself or the next person that will use your file.
    </p>
    <p>
        YAML files can be created in any program that can edit texts, for example: 
 
            <div class="container">
              <div class="row">
                <div class="col-sm-6">
                    <img src="/SmartHome/smarthomeimages/YAMLinVScode.png" class="img-fluid" alt ="YAML in VScode">  <div style='width: 130px; text-align: center;'>YAML in VSCode</div>

                    </div>
                <div class="col-sm-6">
                    <img src="/SmartHome/smarthomeimages/YAMLinTextEditor.png" class="img-fluid" alt ="YAML in gedit text editor">
                    <div style='width: 130px; text-align: center;'>YAML in Gedit</div>
                    </div>
                </div> 
            </div>
    </p>        
    <p>
        Both of these images are of the same YAML file in two different programs.  Any reasonable text editor or IDE should be able to help you edit your YAML files.  The Text editor I'm using is called gedit, but almost anything should be fine.  However, I do recommend you use one of the many free but not always pre-installed options. There are some features that will make your life considerably easier. For example, the regular text editor in Windows, Notepad, is not likely to work great for this.  We're going to want an editor that at the very least can help us with colour coding words and line numbers.  You can get fancier and use and IDE which can help with code formatting, auto-filling and things like that.
        <ul>
            <li> Windows only: <a href="https://notepad-plus-plus.org/downloads/">Notepad++</a></li>
            <li>MAC only: <a href="https://www.barebones.com/products/bbedit/comparison.html">BBedit Free Mode</a></li>
            <li>Open Source: <a href="https://code.visualstudio.com/">VSCode</a></li>
            <li>Open Source: <a href="https://wiki.gnome.org/Apps/Gedit">Gedit</a></li>
            <li>NOT FREE: <a href="https://www.sublimetext.com/">Sublime</a></li>
        </ul>
    </p>
</div>


<!--Where to start-->
<div class="container">
    
    <h3>Components of a YAML file for Kubernetes</h3>
    <p><h5>---</h5>
         YAML files are optionally going to start with three dashes "---"  These can be used to say a new document is starting. We can use another set when the document ends.  However, at the top and bottom of the file, they are optional, but recommended. We can also use them if  we want to have multiple documents in one space, for example on my YAML files above, you can see I used "---" to indicate the file for deployment, and then another set to indicate where services start.  I don't need separate .yaml or .yml files for each, they can all live in one YAML file, but have the "---" to separate it out for the computer. </p>
    <h5>Key-Value Pairs</h5>
    <p> 
        Next we have something called, key-value pairs. For example, if we see, "kind: Deployment" <p><img src="/SmartHome/smarthomeimages/kinddeploymentkeyvaluepairHAyamlfile.png" class="img-fluid" alt ="key-value pair example"></p> That means we have the key "kind" which matches to the value "Deployment".  Most of our file is going to be made up of these key-value pairings.
    </p>
    <p>
        Key-value pairs can also have sub key-value pairs, also referred to as inner and outer keys and values. We can also use the dictionary data structure (<a href="https://en.wikibooks.org/wiki/A-level_Computing/AQA/Paper_1/Fundamentals_of_data_structures/Dictionaries">Fundamentals of Data Structure from Wiki Books</a> Open books for an Open world).  This gives us the ability to store more information in a single key, this can be done inline, or nested. 
        <p><img src="/SmartHome/smarthomeimages/metadatasectionofHAyamlfile.png" class="img-fluid" alt ="metadata section of the HA YAML file"></p>
        For example, we can see in the above YAML file, we have a category called "metadata" (metadata is often referred to as data about other data).  This doesn't have a paired value like we saw before, because the whole category (or dictionary) is called "metadata", and instead we want to use whitespace to indicate which key-value pairs belong with the "metadata" category.  We can see the key-value pair "name: home-assistant", so we know that in the metadata section, we want to name our container with the key "name" which then has the value "home-assistant".  So that's the first place we can see the label for what this container will be called, we can change the value if we want to, but not the key.  Knowing this, can you guess what the next thing you see means? "namespace: smart-home"
    </p>
    <p>
        <h4>Deployment</h4>
        <p>

        </p>
        <h4>Service</h4>
        <p>

        </p>
        <h4>Persistant Volume Claim</h4>
        <p>
            
        </p>
        <h4>Persistant Volume</h4>
        <p>
            
        </p>
    </p>
</div>
<!--Example One-->
<div class="container">
    
    <h3>Components of a YAML file </h3>
    <p>We're going to use something we've seen before, <a href="/SmartHome/homeassistant.html">Home Assistant</a> that has more in depth tutorial and sample YAML files for you to see so that you have more resources if you get stuck.  The community also has a forum that is very active, so there are lots of people working on this project, and lots of available troubleshooting options</p>
    <p>
        <h4>Deployment</h4>
        <p>

        </p>
        <h4>Service</h4>
        <p>

        </p>
        <h4>Persistant Volume Claim</h4>
        <p>
            
        </p>
        <h4>Persistant Volume</h4>
        <p>
            
        </p>
    </p>
</div>

<!--Example two, a new server-->
<div class="container">
    
    <h3>YAML file for a server without an in depth tutorial </h3>
    <p>Komga the comic book server.  This will be more complex then Home Assistant because we will need two Persistant Volume claims and volumes, one for the configs, one for where the comics live on your container.</p>
    <p>
        <h4>Deployment</h4>
        <p>

        </p>
        <h4>Service</h4>
        <p>

        </p>
        <h4>Persistant Volume Claim</h4>
        <p>
            
        </p>
        <h4>Persistant Volume</h4>
        <p>
            
        </p>
    </p>
</div>

<!--Example three, photo server-->
<div class="container">
    
    <h3>More complex YAML </h3>
    <p>How to make a YAML file for a server to host photos or files.  This is likely to feel more complicated because you'll have multiple persistant volumes that will need sections in your YAML. </p>
    <p>
        <h4>Deployment</h4>
        <p>

        </p>
        <h4>Service</h4>
        <p>

        </p>
        <h4>Persistant Volume Claim</h4>
        <p>
            
        </p>
        <h4>Persistant Volume</h4>
        <p>
            
        </p>
    </p>
</div>

<!--How to add ingress-->
<div class="container">
    <h2>Optional: Make your servers publicly accessible.</h2>
    <p>Last, the most complicated part, having your servers accessible to the world through a domain you own.  This is complex because you'll need to setup things on your server, your home router, you'll need to troubleshoot networking (A.K.A. BlackMagic), and if your home IP address changes you'll need to be able to fix it.  This also opens you up to outside attacks so it's VERY important that you have everything secured with https, good passwords, and signed certificates.</p>
    <p>
        <h4>What to change in your server</h4>
        <p>

        </p>
        <h4>What to change on your Router</h4>
        <p>

        </p>
        <h4>How to add ingress to your YAML</h4>
        <p>
            
        </p>
        <h4>How and why we sign certificates for security</h4>
        <p>
            
        </p>
        <h4>How to buy a domain</h4>
        <p>
            
        </p>
    </p>
</div>








   

        <!-- FOOTER -->
      <!--  <footer class="container">
         
          <p>&copy; 2022 &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
        </footer>
        -->
         <footer class="footer">
          <div class="container">
            <p class="float-left"style="font-size:30%;">
              <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" /></a> <br>
              This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">CC Attribution-NonCommercial 4.0 International License</a>
            </p>
            <span class="text-muted text-center">
              Contact me: <a href="mailto:admin@aholdengouveia.name">Email</a>
             <!-- <a href="#">Email</a>-->
              <a href="/cv.html">About me </a>
              
            
              <p class="float-right"><a href="#">Back to top</a></p>
            </span>
          </div>
        </footer>
        
  </main>

  <!-- Bootstrap core JavaScript
       ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
    integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
  <!-- Always remember to call the above files first before calling the bootstrap.min.js file -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
    integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
    crossorigin="anonymous"></script>


  </body>

</html>
